## Typescript는 무엇인가?

Typescript는 Javascript에 유형 시스템이라는 추가 계층을 제공하는 *상위 집합*인 언어입니다.

예를 들어, Javascript에서는 `string`유형으로 선언한 변수에 다른 유형의 재활당이 가능하지만,
Typescript는 한 번 `string`유형으로 선언됬으면 `string`유형으로만 사용해야 합니다.

즉, 코드에서 예기치 못한 동작을 강조 표시하여 버그 가능성을 낮출 수 있습니다.

## 주요 기능

### 타입(Type, 유형)

Javascript에서도 자체적으로 데이터의 타입을 추론하지만 언제든지 데이터의 타입을 변경할 수 있습니다. 하지만 Typescript는 데이터의 타입을 적고 그 타입을 강제합니다.

따라서, Typescript를 잘 사용하기 위해서는 데이터의 타입을 맞게 표현해줘야 합니다.

아래에서는 자주 사용하는 타입과 그 사용법을 알아봅니다.

- 원시형  
  원시형에는 `string`, `boolean`, `number`, `null`, `undefined`가 있습니다. 보통 `null`, `undefined`은 단독으로 잘 쓰이지 않고 아래에서 볼 유니온 타입과 함께 씁니다.
  Typescript는 자체적으로 타입을 추론하여 부여하기 때문에 원시형을 담는 변수 선언 시에는 굳이 타입을 적어주지 않으셔도 됩니다.

  ```ts
  let a: number = 3;

  let b: string = "abc";
  ```

- 배열  
  배열은 배열의 요소에 대한 타입을 적어줍니다. 예를 들어 `[1,2,3]`과 같은 배열에서는 `number[]` 구문을 사용할 수 있습니다. 이 구문은 모든 타입에 관하여 사용할 수 있습니다.
  허나, 배열의 길이와 각 요소의 유형이 정해저 있을 때에는 튜플 타입이라는 구문을 사용할 수 있습니다. 예를 들어, 사용자의 이름, 나이를 담은 `['John', 24]`이라는 배열이 있으면, 튜플을 사용해 `[string, number]` 타입을 적을 수 있습니다.

  ```ts
  // 배열 타입
  let a: string[] = ["a", "b", "c"];

  // 튜플 타입
  let b: [number, string] = [1, "a"];
  ```

- 함수
  함수는 매개변수나 함수의 반환값에 대해 타입을 적어줍니다.

  ```js
  // 매개변수 타입
  function hi(name: string) {
    console.log("hi, " + name);
  }

  // 반환값 타입
  function getPI(): number {
    return Math.PI();
  }
  ```

- 객체
  객체는 객체의 속성과 각 속성의 타입들을 나열하기만 하면 됩니다.

  ```ts
  function printName(name: { first: string; last: string }) {
    console.log(name.first + name.last);
  }
  ```

- 선택 타입
  선택 타입에는 객체나 함수의 매개변수에서 사용할 수 있고, 일부 값을 선택적인 타입으로 지정할 수 있습니다.

  ```js
  //Optional Property
  function printUserInfo(info: { name: string, age?: number }) {
    if (age) {
      console.log(age);
    }
    console.log(name);
  }
  //Optional Parameter
  function printNum(num?: number) {
    console.log(num);
  }
  ```

- 유니온(Union)
  기존의 타입을 기반으로 다양한 연산자를 사용하여 새로운 타입을 만들 수 있습니다. 특정 타입을 사용하기 위해서는 코드 상에서 유니온을 **좁혀**줘야 합니다.

  ```js
  function printId(id: number | string) {
    if (typeof id === "string") {
      // 이 분기에서 id는 'string' 타입을 가집니다
      console.log(id.toUpperCase());
    } else {
      // 여기에서 id는 'number' 타입을 가집니다
      console.log(id);
    }
  }
  ```

- 타입(Type)과 인터페이스(Interface)
  타입과 인터페이스는 똑같은 타입 구조를 여러 번 사용하기 위해서 사용합니다. 타입은 모든 타입에서 사용할 수 있지만 인터페이스는 객체에서만 사용할 수 있습니다.
  그 외에도 타입은 새 프로퍼티 확장이 불가능하지만, 인터페이스는 확장이 가능합니다.

  테이블

  ```js
  // interface
  interface Animal {
    name: string;
  }

  interface Bear extends Animal {
    honey: boolean;
  }

  const bear = getBear();
  ear.name;
  bear.honey;
  interface Window {
    title: string;
  }

  interface Window {
    ts: TypeScriptAPI;
  }

  const src = 'const a = "Hello World"';
  window.ts.transpileModule(src, {});
  // type
  type Animal = {
    name: string,
  };

  type Bear = Animal & {
    honey: Boolean,
  };

  const bear = getBear();
  bear.name;
  bear.honey;
  //타입은 생성된 뒤에는 달라질 수 없다
  type Window = {
    title: string,
  };

  type Window = {
    ts: TypeScriptAPI, // Error: Duplicate identifier 'Window'.
  };
  ```

- 리터널 타입  
  리터널은 `string`, `number` 같은 일반적인 타입외에도 구체적인 문자열과 숫자 값을 타입에 정의할 수 있습니다.

  ```js
  function printColor(color: "red" | "blue" | "yellow") {
    console.log(color);
  }
  ```

### 정적 타입 검사

위에 타입 유형을 잘 맞게 작성하였으면 Typescript는 사용자의 개발 생산성을 위해 사용할 수 있습니다.

```
  const a = '3' //에 대한 사진 올리기 typescript는 에러 사진 올리기

  a = 3

  a.charAt()
```

## 어떻게 작동하는가?

Typescript는 바로 구동 될 수 없습니다. 작업 흐름은 Typescript에서 타입검사에서 통과되면 변환되고 안되면 오류메세지를 뱉음 Javscript에서 Javscript가 인터프리터에서 실행됩니다.

## 결론

Typescript를 처음 배웠을 떄는 Javascript를 왜 씀? 이거 진짜 혁명이다. 모든 작업을 typescript로 진행함 하지만, 너무 경직된 자유로운 자바스크립트가 그리웠다

그래서 대규모의 코드에서는 타입스크립트 개발 작은 규모의 프로젝트에서는 걍 자바로 해도 무방하다.

## 인용 및 참조

[타입스크립트 Docs (https://www.typescriptlang.org/docs/)](https://www.typescriptlang.org/docs/)
